set(H2LIB_SRCS
   aca.c
   amatrix.c
   avector.c
   basic.c
   bem2d.c
   bem3d.c
   block.c
   clusterbasis.c
   cluster.c
   clustergeometry.c
   clusteroperator.c
   curve2d.c
   ddcluster.c
   eigensolvers.c
   factorizations.c
   gaussquad.c
   h2arith.c
   h2compression.c
   h2matrix.c
   h2update.c
   harith.c
   harith2.c
   hcoarsen.c
   helmholtzbem3d.c
   helmholtzoclbem3d.c
   hmatrix.c
   krylov.c
   laplacebem2d.c
   laplacebem3d.c
   laplaceoclbem3d.c
   macrosurface3d.c
   oclbem3d.c
   opencl.c
   parameters.c
   realavector.c
   rkmatrix.c
   settings.c
   singquad1d.c
   singquad2d.c
   sparsematrix.c
   sparsepattern.c
   surface3d.c
   tet3d.c
   tet3dp1.c
   tri2d.c
   tri2dp1.c
   truncation.c
   uniform.c
   )
set(H2LIB_HDRS
   aca.h
   amatrix.h
   avector.h
   basic.h
   bem2d.h
   bem3d.h
   blas.h
   block.h
   clsettings.h
   clusterbasis.h
   clustergeometry.h
   cluster.h
   clusteroperator.h
   curve2d.h
   ddcluster.h
   eigensolvers.h
   factorizations.h
   gaussquad.h
   h2arith.h
   h2compression.h
   h2matrix.h
   h2update.h
   harith2.h
   harith.h
   hcoarsen.h
   helmholtzbem3d.h
   helmholtzoclbem3d.h
   hmatrix.h
   krylov.h
   laplacebem2d.h
   laplacebem3d.h
   laplaceoclbem3d.h
   macrosurface3d.h
   oclbem3d.h
   opencl.h
   parameters.h
   realavector.h
   rkmatrix.h
   settings.h
   singquad1d.h
   singquad2d.h
   sparsematrix.h
   sparsepattern.h
   surface3d.h
   tet3d.h
   tet3dp1.h
   tri2d.h
   tri2dp1.h
   truncation.h
   uniform.h
   )

add_library(H2LIB ${H2LIB_SRCS} ${H2LIB_HDRS})
if(USE_BLAS)
  target_link_libraries(H2LIB ${LAPACK_LIBRARIES} ${BLAS_LIBRARIES})
endif()
install(TARGETS H2LIB DESTINATION lib)
install(FILES ${H2LIB_HDRS} DESTINATION include)
